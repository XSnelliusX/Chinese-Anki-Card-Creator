# Caddyfile Example
# Copy this to 'Caddyfile' and replace 'your-domain.com' with your actual domain.

{
	# email your-email@example.com
}

your-domain.com {
	# Reverse proxy to the FastAPI backend (ensure API_PORT matches)
	reverse_proxy 127.0.0.1:8080 {
		header_up X-Real-IP {remote_host}
	}

	# Security: Hardened headers
	header {
		Strict-Transport-Security "max-age=31536000; includeSubDomains; preload"
		X-Frame-Options "DENY"
		X-Content-Type-Options "nosniff"
		Referrer-Policy "no-referrer-when-downgrade"
	}

	# Compression
	encode gzip zstd
}
